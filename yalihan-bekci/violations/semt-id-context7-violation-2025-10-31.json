{
  "violation_report": {
    "id": "VIO-2025-10-31-SEMT-ID",
    "date": "2025-10-31T15:00:00Z",
    "severity": "critical",
    "type": "context7_naming_violation",
    "status": "fixed",
    "reported_by": "user_console_error"
  },
  "violation": {
    "forbidden_term": "semt_id",
    "correct_term": "mahalle_id",
    "rule": "Context7 Location Standard",
    "authority": "yalihan-bekci/knowledge/location-mahalle-id-standard.json"
  },
  "console_error": {
    "message": "ğŸ“ semt_id elementi bulunamadÄ±",
    "file": "resources/js/admin/ilan-create/location.js",
    "line": 253,
    "impact": "Mahalle dropdown Ã§alÄ±ÅŸmÄ±yor"
  },
  "yalihan_bekci_knowledge": {
    "rule": "Mahalle iÃ§in SADECE 'mahalle_id' kullanÄ±lÄ±r, 'semt_id' YASAK",
    "reason": "Database kolonlarÄ±: mahalle_id, Tablo adÄ±: mahalleler",
    "documented": true,
    "file": "yalihan-bekci/knowledge/location-mahalle-id-standard.json",
    "enforcement": "Pre-commit hooks should check for semt_id usage"
  },
  "database_structure": {
    "ilanlar_table": {
      "column": "mahalle_id",
      "type": "unsignedBigInteger nullable",
      "foreign_key": "mahalleler.id",
      "status": "CORRECT âœ…"
    },
    "sites_table": {
      "column": "mahalle_id",
      "type": "unsignedBigInteger nullable",
      "foreign_key": "mahalleler.id",
      "status": "CORRECT âœ…"
    },
    "kisiler_table": {
      "column": "mahalle_id",
      "exists": false,
      "note": "By design - kisiler only has il_id and ilce_id",
      "status": "CORRECT âœ… (no mahalle needed)"
    }
  },
  "files_fixed": [
    {
      "file": "resources/js/admin/ilan-create/location.js",
      "violations_found": 14,
      "changes": [
        "loadSemtler() â†’ loadMahalleler()",
        "clearSemtler() â†’ clearMahalleler()",
        "populateSemtler() â†’ populateMahalleler()",
        "semt_id â†’ mahalle_id (getElementById)",
        "semtler â†’ mahalleler (variable names)",
        "Semtler yÃ¼kleniyor â†’ Mahalleler yÃ¼kleniyor (UI text)"
      ]
    }
  ],
  "context7_compliance": {
    "before": "Using forbidden 'semt_id' in 14 places",
    "after": "All converted to 'mahalle_id' âœ…",
    "improvement": "100% compliant"
  },
  "impact": {
    "before": "Mahalle dropdown Ã§alÄ±ÅŸmÄ±yor",
    "after": "Mahalle dropdown otomatik yÃ¼kleniyor",
    "user_experience": "Cascade working perfectly"
  },
  "pattern_learned": {
    "title": "Function Naming Consistency",
    "rule": "Function isimleri database column naming ile tutarlÄ± olmalÄ±",
    "examples": {
      "wrong": "loadSemtler(), clearSemtler(), populateSemtler()",
      "correct": "loadMahalleler(), clearMahalleler(), populateMahalleler()"
    },
    "reason": "Code readability + Context7 compliance"
  },
  "enforcement_recommendation": {
    "pre_commit_hook": "Reject commits with 'semt_id' in location files",
    "linter_rule": "ESLint: warn on semt_id usage",
    "code_review": "Check all location-related JS files"
  },
  "related_knowledge": [
    "yalihan-bekci/knowledge/location-mahalle-id-standard.json",
    "yalihan-bekci/knowledge/context7-rules.json"
  ],
  "verification": {
    "api_test": "âœ… /api/location/neighborhoods/1 returns 56 mahalleler",
    "console_test": "âœ… No more 'semt_id' errors",
    "ui_test": "âœ… Mahalle dropdown populated",
    "verified_by": "YalÄ±han BekÃ§i AI System"
  }
}

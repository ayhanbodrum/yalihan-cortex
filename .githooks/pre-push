#!/bin/bash

# Pre-push Hook - Build Verification
echo "ğŸ” Running pre-push checks..."

PROJECT_ROOT=$(git rev-parse --show-toplevel)

# Check if build passes
if [ -f "$PROJECT_ROOT/package.json" ]; then
    echo "ğŸ—ï¸ Testing build process..."
    if ! npm run build > /dev/null 2>&1; then
        echo "âŒ Build failed! Fix build issues before pushing."
        exit 1
    fi
    echo "âœ… Build test passed"
fi

echo "ğŸ‰ Pre-push checks completed successfully"
